<!DOCTYPE html>
<html>
<head>
    <title>JavaScript &amp; jQuery - Chapter 6: Events - HTML5 Events</title>
    <link rel="stylesheet" href="css/c06.css"/>
</head>

<body>
<div id="page">
    <h1>List King</h1>
    <h2>Profile</h2>
    <form id="messageForm" action="">

        <textarea id="message"></textarea> <input type="submit" value="next"/>

    </form>
</div>
<script>

    function setup()
    {
        var textInput;
        textInput = document.getElementById('message');
        textInput.focus();
    }

    window.addEventListener('DOMContentLoaded', setup, false);

    window.addEventListener('beforeunload', function (event)
    {
        // This example has been updated to improve cross-browser compatibility (as recommended by MDN)
        var message = 'You have changes that have not been saved';
        (event || window.event).returnValue = message;
        return message;
    });
</script>
</body>
</html>